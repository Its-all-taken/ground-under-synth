{"ast":null,"code":"import * as Tone from 'tone';\nimport React, { Component } from 'react';\nimport * as seaSettings from './tunes/sea.js';\nimport * as beatSettings from './tunes/beat.js';\nimport SC_Button from './components/SC_Button';\nlet seaSynth;\nlet seaChorus;\nlet seaPingPongDelay;\nlet beatSynth;\nexport default class Container extends Component {\n  constructor(props) {\n    super(props);\n    this.handleBeatStart = () => {\n      const beatSettings = this.state.beatSettings;\n      //\n      beatSynth = new Tone.Synth(beatSettings.synth);\n      // beatChorus = new Tone.Chorus(beatSettings.chorus).start()\n      // beatSynth.chain(beatChorus)\n      const beatPart = new Tone.Part((time, note) => {\n        beatSynth.triggerAttackRelease(note.noteName, note.duration, time, note.velocity);\n      }, beatSettings.sequence.steps).start(0);\n      beatPart.loopEnd = beatSettings.sequence.duration;\n      beatPart.loop = true;\n      Tone.Transport.start();\n    };\n    this.state = {\n      seaSettings,\n      beatSettings\n    };\n  }\n\n  // handleStart = () => {\n  //   const { seaSettings } = this.state\n  //   //\n  //   seaSynth = new Tone.Synth(seaSettings.synth)\n  //   seaChorus = new Tone.Chorus(seaSettings.chorus).start()\n  //   seaPingPongDelay = new Tone.PingPongDelay(\n  //     seaSettings.pingPongDelay\n  //   ).toDestination()\n  //   seaSynth.chain(seaChorus, seaPingPongDelay)\n  //   const seaPart = new Tone.Part((time, note) => {\n  //     seaSynth.triggerAttackRelease(\n  //       note.noteName,\n  //       note.duration,\n  //       time,\n  //       note.velocity\n  //     )\n  //   }, seaSettings.sequence.steps).start(0)\n  //   seaPart.loopEnd = seaSettings.sequence.duration\n  //   seaPart.loop = true\n  //   Tone.Transport.start()\n  // }\n\n  render() {\n    const _this$state = this.state,\n      seaSettings = _this$state.seaSettings,\n      beatSettings = _this$state.beatSettings;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Container\"\n    }, /*#__PURE__*/React.createElement(SC_Button, {\n      text: \">start<\",\n      handleClick: this.handleStart\n    }), /*#__PURE__*/React.createElement(SC_Button, {\n      text: \">beat<\",\n      handleClick: this.handleBeatStart\n    }));\n  }\n}","map":{"version":3,"names":["Tone","React","Component","seaSettings","beatSettings","SC_Button","seaSynth","seaChorus","seaPingPongDelay","beatSynth","Container","constructor","props","handleBeatStart","state","Synth","synth","beatPart","Part","time","note","triggerAttackRelease","noteName","duration","velocity","sequence","steps","start","loopEnd","loop","Transport","render","handleStart"],"sources":["/Users/mar/Share/sea/app/javascript/prototypes/Container.jsx"],"sourcesContent":["import * as Tone from 'tone'\nimport React, { Component } from 'react'\n\nimport * as seaSettings from './tunes/sea.js'\nimport * as beatSettings from './tunes/beat.js'\n\nimport SC_Button from './components/SC_Button'\n\nlet seaSynth\nlet seaChorus\nlet seaPingPongDelay\n\nlet beatSynth\n\nexport default class Container extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      seaSettings,\n      beatSettings\n    }\n  }\n\n  // handleStart = () => {\n  //   const { seaSettings } = this.state\n  //   //\n  //   seaSynth = new Tone.Synth(seaSettings.synth)\n  //   seaChorus = new Tone.Chorus(seaSettings.chorus).start()\n  //   seaPingPongDelay = new Tone.PingPongDelay(\n  //     seaSettings.pingPongDelay\n  //   ).toDestination()\n  //   seaSynth.chain(seaChorus, seaPingPongDelay)\n  //   const seaPart = new Tone.Part((time, note) => {\n  //     seaSynth.triggerAttackRelease(\n  //       note.noteName,\n  //       note.duration,\n  //       time,\n  //       note.velocity\n  //     )\n  //   }, seaSettings.sequence.steps).start(0)\n  //   seaPart.loopEnd = seaSettings.sequence.duration\n  //   seaPart.loop = true\n  //   Tone.Transport.start()\n  // }\n\n  handleBeatStart = () => {\n    const { beatSettings } = this.state\n    //\n    beatSynth = new Tone.Synth(beatSettings.synth)\n    // beatChorus = new Tone.Chorus(beatSettings.chorus).start()\n    // beatSynth.chain(beatChorus)\n    const beatPart = new Tone.Part((time, note) => {\n      beatSynth.triggerAttackRelease(\n        note.noteName,\n        note.duration,\n        time,\n        note.velocity\n      )\n    }, beatSettings.sequence.steps).start(0)\n    beatPart.loopEnd = beatSettings.sequence.duration\n    beatPart.loop = true\n    Tone.Transport.start()\n  }\n \n  render() {\n    const { seaSettings, beatSettings } = this.state\n\n    return (\n      <div className=\"Container\">\n        <SC_Button\n          text=\">start<\"\n          handleClick={this.handleStart}\n        />\n        <SC_Button\n          text=\">beat<\"\n          handleClick={this.handleBeatStart}\n        />\n      </div>\n    )\n  }\n}"],"mappings":"AAAA,OAAO,KAAKA,IAAI,MAAM,MAAM;AAC5B,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAExC,OAAO,KAAKC,WAAW,MAAM,gBAAgB;AAC7C,OAAO,KAAKC,YAAY,MAAM,iBAAiB;AAE/C,OAAOC,SAAS,MAAM,wBAAwB;AAE9C,IAAIC,QAAQ;AACZ,IAAIC,SAAS;AACb,IAAIC,gBAAgB;AAEpB,IAAIC,SAAS;AAEb,eAAe,MAAMC,SAAS,SAASR,SAAS,CAAC;EAC/CS,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAAA,KA8BdC,eAAe,GAAG,MAAM;MACtB,MAAQT,YAAY,GAAK,IAAI,CAACU,KAAK,CAA3BV,YAAY;MACpB;MACAK,SAAS,GAAG,IAAIT,IAAI,CAACe,KAAK,CAACX,YAAY,CAACY,KAAK,CAAC;MAC9C;MACA;MACA,MAAMC,QAAQ,GAAG,IAAIjB,IAAI,CAACkB,IAAI,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAK;QAC7CX,SAAS,CAACY,oBAAoB,CAC5BD,IAAI,CAACE,QAAQ,EACbF,IAAI,CAACG,QAAQ,EACbJ,IAAI,EACJC,IAAI,CAACI,QAAQ,CACd;MACH,CAAC,EAAEpB,YAAY,CAACqB,QAAQ,CAACC,KAAK,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;MACxCV,QAAQ,CAACW,OAAO,GAAGxB,YAAY,CAACqB,QAAQ,CAACF,QAAQ;MACjDN,QAAQ,CAACY,IAAI,GAAG,IAAI;MACpB7B,IAAI,CAAC8B,SAAS,CAACH,KAAK,EAAE;IACxB,CAAC;IA7CC,IAAI,CAACb,KAAK,GAAG;MACXX,WAAW;MACXC;IACF,CAAC;EACH;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAqBA2B,MAAM,GAAG;IACP,oBAAsC,IAAI,CAACjB,KAAK;MAAxCX,WAAW,eAAXA,WAAW;MAAEC,YAAY,eAAZA,YAAY;IAEjC,oBACE;MAAK,SAAS,EAAC;IAAW,gBACxB,oBAAC,SAAS;MACR,IAAI,EAAC,SAAS;MACd,WAAW,EAAE,IAAI,CAAC4B;IAAY,EAC9B,eACF,oBAAC,SAAS;MACR,IAAI,EAAC,QAAQ;MACb,WAAW,EAAE,IAAI,CAACnB;IAAgB,EAClC,CACE;EAEV;AACF"},"metadata":{},"sourceType":"module"}